(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{181:function(e,r,a){"use strict";a.r(r);a(123),a(124);var t=a(56),n=a.n(t),s=a(16),o=a.n(s),i=a(0),l=a.n(i),u=a(195),c=a(272),m=a(74),d=a(50),p=Object(m.a)({dangerouslyUseGlobalCSS:!0,productionPrefix:"c"}),E=function(e){function r(r){var a;return(a=e.call(this,r)||this).state={usernameError:!1,passwordError:!1,usernameErrorMessage:"",passwordErrorMessage:""},a.handleClick=a.handleClick.bind(n()(a)),a}o()(r,e);var a=r.prototype;return a.handleClick=function(e){var r=this;e.preventDefault();var a=document.getElementById("username").value,t=document.getElementById("password").value;if(a?this.setState({usernameError:!1,usernameErrorMessage:""}):this.setState({usernameError:!0,usernameErrorMessage:"Username cannot be empty"}),t?this.setState({passwordError:!1,passwordErrorMessage:""}):this.setState({passwordError:!0,passwordErrorMessage:"Password cannot be empty"}),t&&a){fetch("https://ktichmann-ticketing-system.herokuapp.com/user/authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+a+"&password="+t}).then(function(e){return e.json()}).then(function(e){console.log("res: ",e),e.success?(window.sessionStorage.setItem("ticketing_token",e.token),window.sessionStorage.setItem("ticketing_username",a),document.getElementById("redirect_to_home").click):e.message.includes("email not verified")?r.setState({usernameErrorMessage:"Email not verified"}):r.setState({usernameError:!0,passwordError:!0,usernameErrorMessage:"Username or Password Incorrect"})}).catch(function(e){return console.log("error: ",e)})}},a.render=function(){return l.a.createElement(d.b,{generateClassName:p},l.a.createElement("div",{style:{fontFamily:"Lato",left:"50%",top:"50%",transform:"translate(-50%, -80%)",position:"absolute"}},l.a.createElement("h1",{style:{textAlign:"center"}},"Log In"),l.a.createElement("div",{className:"user-form"},l.a.createElement(c.a,{usernameError:this.state.usernameError,passwordError:this.state.passwordError,usernameErrorMessage:this.state.usernameErrorMessage,passwordErrorMessage:this.state.passwordErrorMessage,handleClick:this.handleClick,buttonText:"Log In"}),l.a.createElement("div",{className:"login-message"},"Don't have an account?"," ",l.a.createElement(u.a,{to:"/user/sign-up"},"Sign up here"))),l.a.createElement(u.a,{to:"/",id:"redirect_to_home"})))},r}(l.a.Component);r.default=E},195:function(e,r,a){"use strict";a.d(r,"b",function(){return c});var t=a(0),n=a.n(t),s=a(3),o=a.n(s),i=a(54),l=a.n(i);a.d(r,"a",function(){return l.a});a(196);var u=n.a.createContext({}),c=function(e){return n.a.createElement(u.Consumer,null,function(r){return e.data||r[e.query]&&r[e.query].data?(e.render||e.children)(e.data?e.data.data:r[e.query].data):n.a.createElement("div",null,"Loading (StaticQuery)")})};c.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},196:function(e,r,a){var t;e.exports=(t=a(199))&&t.default||t},199:function(e,r,a){"use strict";a.r(r);a(40);var t=a(0),n=a.n(t),s=a(3),o=a.n(s),i=a(84),l=a(6),u=function(e){var r=e.location,a=l.default.getResourcesForPathnameSync(r.pathname);return a?n.a.createElement(i.a,Object.assign({location:r,pageResources:a},a.json)):null};u.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},r.default=u},272:function(e,r,a){"use strict";var t=a(0),n=a.n(t),s=a(239),o=a.n(s),i=a(238),l=a.n(i),u=a(3),c=a.n(u),m=function(e){return n.a.createElement("form",{style:{marginLeft:"1rem"}},n.a.createElement("p",null,e.usernameErrorMessage),n.a.createElement(l.a,{style:{display:"block",paddingLeft:"auto"},id:"username",label:"Username",margin:"normal",variant:"outlined",error:e.usernameError}),!!e.email&&n.a.createElement("div",null,n.a.createElement("p",null,e.emailErrorMessage),n.a.createElement(l.a,{style:{display:"block"},id:"email",label:"Email",type:"email",margin:"normal",error:e.emailError,variant:"outlined"})),n.a.createElement("p",null,e.passwordErrorMessage),n.a.createElement(l.a,{style:{display:"block"},id:"password",label:"Password",type:"password",margin:"normal",variant:"outlined",error:e.passwordError}),n.a.createElement(o.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:"8rem",marginTop:"1rem"},onClick:function(r){return e.handleClick(r)}},e.buttonText))};m.propTypes={usernameErrorMessage:c.a.string,passwordErrorMessage:c.a.string,emailErrorMessage:c.a.string,usernameError:c.a.bool,passwordError:c.a.bool,emailError:c.a.bool},m.defaultProps={usernameErrorMessage:"Error",passwordErrorMessage:"Error",emailErrorMessage:"Error",usernameError:!1,passwordError:!1,emailError:!1},r.a=m}}]);
//# sourceMappingURL=component---src-pages-user-log-in-js-28dfa4517933683a65ab.js.map